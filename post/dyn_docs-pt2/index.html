<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Wow - long delay on this one. There are good reasons, which will be explained in coming posts. Stay tuned.
A brief intro to dynamic documents in R (cont.) Last time I outlined why you might want to use a dynamic document, and some of the popular formates that are commonly used. There are many great resources for the syntax used to actually create dynamic documents (e.g., for Rmarkdown: Rstudio, R-bloggers, etc."><meta name=theme-color content="#ffcd00"><meta property="og:title" content="Dynamic documents (part 2) • Matt Espe"><meta property="og:description" content="Wow - long delay on this one. There are good reasons, which will be explained in coming posts. Stay tuned.
A brief intro to dynamic documents in R (cont.) Last time I outlined why you might want to use a dynamic document, and some of the popular formates that are commonly used. There are many great resources for the syntax used to actually create dynamic documents (e.g., for Rmarkdown: Rstudio, R-bloggers, etc."><meta property="og:url" content="https://mespe.github.io/post/dyn_docs-pt2/"><meta property="og:site_name" content="Ten thousand words..."><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:tag" content="R"><meta property="article:tag" content="data science"><meta property="article:published_time" content="2018-04-19T11:47:40-06:00"><meta property="article:modified_time" content="2018-04-19T11:47:40-06:00"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.100.2"><title>Dynamic documents (part 2) • Matt Espe</title><link rel=canonical href=https://mespe.github.io/post/dyn_docs-pt2/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.ab98e12b.css><link rel=stylesheet href=/css/custom.css><style>:root{--color-accent:#ffcd00}</style><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-101069222-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class='page type-post has-sidebar'><div class=site><div id=sidebar class=sidebar><a class=screen-reader-text href=#main-menu>Skip to Main Menu</a><div class=container><section class='widget widget-about sep-after'><header><h2 class='title site-title'><a href=/>Ten thousand words...</a></h2><div class=desc>Thoughts on agriculture, data science, and academia</div></header></section><section class='widget widget-taxonomy_cloud sep-after'><header><h4 class='title widget-title'>Tags</h4></header><div class='container list-container'><ul class='list taxonomy-cloud'><li><a href=/tags/agriculture/ style=font-size:1.25em>agriculture</a></li><li><a href=/tags/blogging/ style=font-size:1em>blogging</a></li><li><a href=/tags/computers/ style=font-size:1.4166666666666665em>computers</a></li><li><a href=/tags/data-science/ style=font-size:1.9166666666666665em>data science</a></li><li><a href=/tags/golang/ style=font-size:1em>Golang</a></li><li><a href=/tags/health/ style=font-size:1em>health</a></li><li><a href=/tags/hugo/ style=font-size:1em>hugo</a></li><li><a href=/tags/personal/ style=font-size:1.0833333333333333em>personal</a></li><li><a href=/tags/r/ style=font-size:2em>R</a></li><li><a href=/tags/research/ style=font-size:1.0833333333333333em>research</a></li><li><a href=/tags/stan/ style=font-size:1em>Stan</a></li><li><a href=/tags/stats/ style=font-size:1.0833333333333333em>stats</a></li></ul></div></section></div><div class=sidebar-overlay></div></div><div class=main><nav id=main-menu class='menu main-menu' aria-label='Main Menu'><div class=container><a class=screen-reader-text href=#content>Skip to Content</a>
<button id=sidebar-toggler class=sidebar-toggler aria-controls=sidebar>
<span class=screen-reader-text>Toggle Sidebar</span>
<span class=open><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></span><span class=close><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></span></button><ul><li class=item><a href=/>Home</a></li><li class=item><a href=/post/>Blog</a></li><li class=item><a href=/about/>About me</a></li><li class=item><a href=/research/>Research</a></li><li class=item><a href=/consulting/>Consulting</a></li><li class=item><a href=https://github.com/mespe>Repos</a></li><li class=item><a href=/docs/espe_cv.pdf>CV</a></li></ul></div></nav><div class=header-widgets><div class=container></div></div><header id=header class='header site-header'><div class='container sep-after'><div class=header-info><p class='site-title title'>Ten thousand words...</p><p class='desc site-desc'>Thoughts on agriculture, data science, and academia</p></div></div></header><main id=content><article lang=en class=entry><header class='header entry-header'><div class='container sep-after'><div class=header-info><h1 class=title>Dynamic documents (part 2)</h1></div><div class=entry-meta><span class=posted-on><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span class=screen-reader-text>Posted on</span>
<time class=entry-date datetime=2018-04-19T11:47:40-06:00>2018, Apr 19</time></span>
<span class=byline><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M21 21V20c0-2.76-4-5-9-5s-9 2.24-9 5v1"/><path d="M16 6.37A4 4 0 1112.63 3 4 4 0 0116 6.37z"/></svg><span class=screen-reader-text>by </span><a href=/authors/mespe>Matt Espe</a></span>
<span class=reading-time><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>4 mins read</span></div></div></header><details class='container entry-toc'><summary class=title><span>Table of Contents</span></summary><nav id=TableOfContents><ul><li><a href=#make-your-document-easy-to-version-control>Make your document easy to version control</a></li><li><a href=#convert-when-necessary>Convert when necessary</a></li><li><a href=#keep-your-document-under-version-control-as-long-as-you-can>Keep your document under version control as long as you can</a></li><li><a href=#avoid-cutting-corners>Avoid cutting corners</a></li></ul></nav></details><div class='container entry-content'><p><em>Wow - long delay on this one. There are good reasons, which will be explained in coming posts. Stay tuned.</em></p><h1 id=a-brief-intro-to-dynamic-documents-in-r-cont>A brief intro to dynamic documents in R (cont.)</h1><p>Last time I outlined why you might want to use a dynamic document, and some of the popular formates that are commonly used.
There are many great resources for the syntax used to actually create dynamic documents (e.g., for Rmarkdown: <a href=https://rmarkdown.rstudio.com/>Rstudio</a>, <a href=https://www.r-bloggers.com/r-markdown-and-knitr-tutorial-part-1/>R-bloggers</a>, etc.)
Rather, today I will outline some tips and tricks I have picked up while creating publications using Rmarkdown/Sweave.</p><h2 id=make-your-document-easy-to-version-control>Make your document easy to version control</h2><p>One of the main benefits of dynamic documents is that they can be easy to put under version control.
<em>Can be.</em> But often we will be tempted to make it more difficult. How?</p><ul><li><p><strong>Word-wrap entire paragraphs:</strong> Rstudio and other editors can wrap long text lines, so they appear to be similar to what happens in MS Word.
Unfortunately, this can create real havok when the doc is put under version control systems like <code>Git</code>.
<code>Git</code> was built for version control of code, hence it records changes at the text line level.
If you create an entire paragraph on a single line, now any edit, even just a single character, is recorded as a change to that entire paragraph.
When looking at the <code>git diff</code>, it can become difficult to tell what actually changed.
Therefore, it is best to keep each sentence on its own line, or at least put only a few sentences on each line.</p></li><li><p><strong>Rely on complicated formatting in MS Word:</strong> Many of us become dependent on making our document look fancy using MS Word&rsquo;s tools.
MS Word&rsquo;s &ldquo;what you see is what you get&rdquo; model can be great for some word processing tasks.
However, this model requires someone behind the screen to manipulate controls, something not captured by version control on the markdown document.
Therefore, this workflow generally does not fit with the goal of automatic generation of dynamic documents.
Therefore, it is best to try to stick to simple markup for essential formatting, such as <em>emphasis</em>, <strong>bold</strong>, or section headings.
Often, you will find you don&rsquo;t need the more complex formatting.</p></li><li><p><strong>Make supporting documents, data, or other items not easily accessible:</strong>
Often, important data, figures, and supporting code are kept separate from the document, either in on a local drive, Dropbox/Google Drive/Box, etc., or in a private repository.
When working with some datasets which cannot be shared, such as medical records or propriatory data, this can be unavoidable.
But many times this is not the case, and we just are in the habit of keeping the data in certain locations.
By doing this, the benefit of rebuilding dynamic documents is lost to anyone but yourself.</p></li></ul><h2 id=convert-when-necessary>Convert when necessary</h2><ul><li><strong>Collaboration necessitates conversion:</strong> Unless you are lucky or work alone, not all of your collaborators will be familar or comfortable working with a dynamic document.
A co-author might want to edit for content, and not care about how the document was generated.
In these cases, conversion to PDF or docx files can be the easiest way to allow them to contribute.
You gain nothing by being a dynamic document purist.</li></ul><h2 id=keep-your-document-under-version-control-as-long-as-you-can>Keep your document under version control as long as you can</h2><ul><li><strong>docx/PDFs are not easy to version control:</strong>
Once you start getting feedback on converted versions of the document, it can be really tempting to then work on these converted documents rather than the original.
Try to hold off as long as possible.
Even if you think you are on the final revisions, you likely aren&rsquo;t, and you can create a massive headache for yourself by ditching the dynamic document framework too early.
All the work put into creating a dynamic document under version control can be lost if the final ten drafts are neither dynamic nor version controlled.
Try to make sure even small changes get pushed back to the dynamic version.</li></ul><h2 id=avoid-cutting-corners>Avoid cutting corners</h2><ul><li><p><strong>Easy now is a headache later:</strong>
Sure, it can be a pain to type <code>\Sexpr{round(coef(mod)[2], 1)}</code> rather than 2.1, and you will be tempted to just type a few of these little numbers or other elements.
But doing this now makes part of the document static rather than dynamic, and arguably you have a larger headache than just creating a static document.
Sometimes little changes by hand are unavoidable, for example the locations of labels on a figure.
It can be easier to just use <code>locator()</code> to select points that do not interfer with eachother.
But even in these cases, the locations on the plot can be saved as data.
This enables you to update the plot data and allow the plot generation to remain dynamic.</p></li><li><p><strong>Assume the data/analysis/code will change:</strong>
If you always assume that the inputs to your document will change, you will create a document robust to changes.
This forces you to use better practices, and in almost all cases will save time and energy later.
I experienced this first-hand where the &ldquo;final drafts&rdquo; of a paper spanned 6 months and 30 commits.
Don&rsquo;t bet on your dynamic document being static.</p></li></ul></div><footer class=entry-footer><div class='container sep-before'><div class=categories><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5A2 2 0 014 3H9l2 3h9a2 2 0 012 2z"/></svg><span class=screen-reader-text>Categories: </span><a class=category href=/categories/r/>R</a>, <a class=category href=/categories/data-science/>data science</a></div><div class=tags><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=screen-reader-text>Tags: </span><a class=tag href=/tags/r/>R</a>, <a class=tag href=/tags/data-science/>data science</a></div></div></footer></article><nav class=entry-nav><div class=container><div class='prev-entry sep-before'><a href=/post/dyn_docs-pt1/><span aria-hidden=true><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>Previous</span>
<span class=screen-reader-text>Previous post: </span>Dynamic Docs in R (part 1)</a></div><div class='next-entry sep-before'><a href=/post/power/><span class=screen-reader-text>Next post: </span>Retrospective Power Analysis<span aria-hidden=true>Next<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav></main><footer id=footer class=footer><div class='container sep-before'><div class=copyright><p>&copy; 2017-2022 Matt Espe</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=/assets/js/main.c3bcf2df.js></script><script src=/js/custom.js></script></body></html>